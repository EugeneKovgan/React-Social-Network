"use strict";(self.webpackChunkreact_social_network=self.webpackChunkreact_social_network||[]).push([[271],{271:function(e,s,a){a.r(s),a.d(s,{default:function(){return g}});var t=a(885),r=a(982),n={messages:"ChatPage_messages__Qg2LH",message:"ChatPage_message__42e2b",textBlock:"ChatPage_textBlock__Slh-z",header_block:"ChatPage_header_block__VcFu+",footer_block:"ChatPage_footer_block__HH-tW",info_block:"ChatPage_info_block__rSiUD",addMessageForm:"ChatPage_addMessageForm__tlWzm"},c=a(657),o=a(791),l=a(687),i=a(236),u=a(184),d=function(){var e=(0,l.I0)(),s=(0,l.v9)((function(e){return e.chat.status}));return(0,o.useEffect)((function(){return e((0,i.WE)()),function(){e((0,i.I)())}}),[]),(0,u.jsxs)("div",{className:n.chat,children:["error"===s?(0,u.jsx)("div",{children:"need to restart"}):"",(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m,{}),(0,u.jsx)(h,{})]})]})},h=o.memo((function(){console.log("...messages");var e=(0,l.v9)((function(e){return e.chat.messages})),s=(0,r.Z)(e).reverse();return(0,u.jsx)("div",{className:n.messages,children:s.map((function(e){return(0,u.jsx)(_,{props:e},e.id)}))})})),_=o.memo((function(e){var s=e.props;return console.log("one message"),(0,u.jsxs)("div",{className:n.message,children:[(0,u.jsxs)("div",{className:n.info_block,children:[(0,u.jsx)("img",{className:n.post_avatar,src:s.photo?s.photo:c,alt:"photo"}),(0,u.jsx)("p",{children:s.userName})]}),(0,u.jsxs)("div",{className:n.textBlock,children:[(0,u.jsx)("div",{className:n.header_block,children:(0,u.jsx)("p",{children:s.message})}),(0,u.jsx)("div",{className:n.footer_block})]})]})})),m=function(){var e=(0,o.useState)(""),s=(0,t.Z)(e,2),a=s[0],r=s[1],c=(0,l.I0)(),d=(0,l.v9)((function(e){return e.chat.status}));return(0,u.jsxs)("div",{className:n.addMessageForm,children:[(0,u.jsx)("textarea",{onChange:function(e){return r(e.currentTarget.value)},value:a}),(0,u.jsx)("button",{disabled:"ready"!==d,onClick:function(){a&&(c((0,i.bG)(a)),r(""))},children:"add"})]})},g=function(){return(0,u.jsx)("div",{children:(0,u.jsx)(d,{})})}}}]);
//# sourceMappingURL=271.7fda6c12.chunk.js.map